{% extends "default" %}

{% block head_meta %}
    <meta name="robots" content="index, follow">
{% endblock %}

{% block head_authors %}
    {% if (page.authors) %}
        {% for handle in page.authors %}
        <meta name="author" content="{{ site.authors[handle].twitter }}">
        <link rel="author" href="{{ site.authors[handle].twitter }}">
        {% endfor %}
    {% endif %}
{% endblock %}

{% block content_wrapper %}
    <article class="blog-article">

        <header class="blog-article-header">
            <h2>{{ page.title }}</h2>
            {% if page.authors %}
                {% include "author_list.twig" with {authors: page.authors} %}
            {% endif %}
            {% if (page.date) %}
                <div class="blog-article-date"><small>Posted on {{ page.date|date("l j F Y") }}</small></div>
            {% endif %}
        </header>

        <div class="blog-article-content">
            {{ page.blocks.content|raw }}
        </div>

        {% if page.authors %}
            {% for handle in page.authors %}
                {% include "author_box.twig" with {handle: handle} %}
            {% endfor %}
        {% endif %}

        {% if page.categories %}
            <p class="categories">
            Categories:
            {% for category in page.categories %}
            <a href="{{ site.url }}/blog/categories/{{ category|url_encode(true) }}">{{ category }}</a>{% if not loop.last %}, {% endif %}
            {% endfor %}
            </p>
        {% endif %}
        {% if page.tags %}
            <p class="tags">
            Tags:
            {% for tag in page.tags %}
            <a href="{{ site.url }}/blog/tags/{{ tag|url_encode(true) }}">{{ tag }}</a>{% if not loop.last %}, {% endif %}
            {% endfor %}
            </p>
        {% endif %}

        {% if page.previous_post or page.next_post %}
            <nav class="article">
                <ul>
                    {% if page.next_post %}
                        <li>Next: <a class="next" href="{{ site.url }}{{ page.next_post.url }}" title="{{ page.next_post.title }}"><span class="title">{{ page.next_post.title }}</span></a></li>
                    {% endif %}
                    {% if page.previous_post %}
                        <li>Previous: <a class="previous" href="{{ site.url }}{{ page.previous_post.url }}" title="{{ page.previous_post.title }}"><span class="title">{{ page.previous_post.title }}</span></a></li>
                    {% endif %}
                </ul>
            </nav>
        {% endif %}
    </article>
{% endblock %}
